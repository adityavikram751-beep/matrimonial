(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[432],{151:(e,t,s)=>{"use strict";s.d(t,{H:()=>a});let a="https://matrimonial-backend-7ahc.onrender.com"},483:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/analytics",function(){return s(1077)}])},1077:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>W});var a=s(7876),l=s(4232),r=s(2395),i=s.n(r),n=s(4352),d=s.n(n);let o="https://matrimonial-backend-7ahc.onrender.com",c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],x={Sun:"Su",Mon:"Mo",Tue:"Tu",Wed:"We",Thu:"Th",Fri:"Fr",Sat:"Sa"};function h(){let[e,t]=(0,l.useState)([]),[s,r]=(0,l.useState)([]),[n,h]=(0,l.useState)([]);(0,l.useEffect)(()=>{(async()=>{let e=await fetch("".concat(o,"/admin/user-signup-trends")),s=await e.json();if(!s.success)return;let a={},l={};s.data.forEach(e=>{a[e.date]=Number(e.newUsers||0),l[e.date]=Number(e.returningUsers||0)});let i=c.map(e=>a[e]||0),n=c.map(e=>l[e]||0);t(i),r(n)})()},[]),(0,l.useEffect)(()=>{(async()=>{let e=await fetch("".concat(o,"/admin/search-to-match")),t=await e.json();t.success&&h(t.data)})()},[]);let p={chart:{type:"line",height:310,backgroundColor:"#ffffff",spacingLeft:10,spacingRight:10,spacingTop:15,spacingBottom:25},credits:{enabled:!1},title:{text:""},legend:{enabled:!1},xAxis:{categories:c.map(e=>x[e]),tickLength:0,labels:{style:{fontSize:"16px",fontWeight:600,color:"#4b5563"},y:20}},yAxis:{title:null,min:0,max:Math.max(...e,...s,5),tickPositions:[0,5,10,15,20,25,30],labels:{formatter(){return this.value},style:{fontSize:"15px",fontWeight:500,color:"#6b7280"}}},plotOptions:{series:{lineWidth:3,marker:{radius:6,fillColor:"#fff",lineWidth:3}}},tooltip:{shared:!0,backgroundColor:"#fff",borderRadius:10,borderWidth:1,style:{fontSize:"15px"}},series:[{name:"New Registered Users",data:e,color:"#facc15",marker:{lineColor:"#facc15"}},{name:"Returning Users",data:s,color:"#16a34a",marker:{lineColor:"#16a34a"}}]};return(0,a.jsxs)("div",{className:"mt-24 px-6 flex flex-col md:flex-row gap-10 w-full items-stretch",children:[(0,a.jsxs)("div",{className:"bg-white rounded-[32px] shadow-xl border border-gray-300 p-6 w-full md:w-[45%] h-full",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-10",children:"Search To Match"}),(0,a.jsx)("div",{className:"space-y-6",children:n.map((e,t)=>{var s;let l=(null==(s=n[0])?void 0:s.value)||1,r=e.value/l*100;return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"w-[200px] text-[17px] font-semibold text-gray-800",children:e.stage}),(0,a.jsx)("div",{className:"w-[430px] mx-4",children:(0,a.jsx)("div",{className:"w-full h-[32px] bg-gray-200 rounded-full overflow-hidden",style:{boxShadow:"inset 0 2px 4px rgba(0,0,0,0.18), inset 0 -2px 4px rgba(255,255,255,0.4)"},children:(0,a.jsx)("div",{className:"h-full",style:{width:"".concat(r,"%"),background:"linear-gradient(90deg,#3A47FF,#001BFF)",borderRadius:18,filter:"drop-shadow(0 6px 14px rgba(0,0,0,0.35))"}})})}),(0,a.jsx)("div",{className:"w-[100px] text-right text-[18px] font-semibold text-gray-900",children:e.value})]},t)})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-[32px] shadow-xl border border-gray-300 p-10 w-full md:w-1/2 h-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsx)("h2",{className:"text-[22px] font-semibold text-gray-900 whitespace-nowrap",children:"Running User Trend"}),(0,a.jsxs)("div",{className:"flex items-center gap-8 text-gray-700 text-[12px] font-semibold whitespace-nowrap",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{style:{width:8,height:4,background:"#facc15",borderRadius:4}}),(0,a.jsx)("span",{style:{width:10,height:10,borderRadius:"50%",border:"3px solid #facc15",background:"#fff"}}),(0,a.jsx)("span",{style:{width:8,height:4,background:"#facc15",borderRadius:4}}),(0,a.jsx)("span",{children:"New Registered Users"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{style:{width:8,height:4,background:"#16a34a",borderRadius:4}}),(0,a.jsx)("span",{style:{width:10,height:10,borderRadius:"50%",border:"3px solid #16a34a",background:"#fff"}}),(0,a.jsx)("span",{style:{width:8,height:4,background:"#16a34a",borderRadius:4}}),(0,a.jsx)("span",{children:"Returning Users"})]})]})]}),(0,a.jsx)(d(),{highcharts:i(),options:p})]})]})}let p=()=>{let[e,t]=(0,l.useState)("");return(0,a.jsxs)("div",{className:"bg-gray-100 px-10 py-4 shadow-sm border-b fixed top-0 z-50 flex items-center justify-between",style:{left:"250px",width:"calc(100% - 250px)"},children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),(0,a.jsx)("div",{className:"flex items-center gap-5",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("svg",{width:"30",height:"30",viewBox:"0 0 24 24",fill:"#FFC107",children:(0,a.jsx)("path",{d:"M12 24c1.104 0 2-.897 2-2h-4c0 1.103.896 2 2 2zm6.707-5l1.293 1.293V21H4v-1.707L5.293 19H6v-7c0-3.309 2.691-6 6-6s6 2.691 6 6v7h.707zM18 18H6v-7c0-2.757 2.243-5 5-5s5 2.243 5 5v7z"})}),(0,a.jsx)("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full"})]})})]})};var f=s(8847),m=s.n(f),u=s(151);let g=m()(()=>Promise.resolve().then(s.t.bind(s,4352,23)),{loadableGenerated:{webpack:()=>[4352]},ssr:!1});function b(){let e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],[t,s]=(0,l.useState)([]),[r,n]=(0,l.useState)(Array(12).fill(0)),[d,o]=(0,l.useState)(Array(12).fill(0));(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch(u.H+"/admin/overview"),t=await e.json();if(!t.success)return;let a={Completed:"#0c7c1b",Low:"#f6931d",Incomplete:"#e21d1d",Moderate:"#f6c927"};s(["Completed","Low","Incomplete","Moderate"].map(e=>{let s=t.data.find(t=>t.name===e);return{name:e,y:s?s.value:0,color:a[e]}}))}catch(e){console.error(e)}})()},[]),(0,l.useEffect)(()=>{(async()=>{try{let t=await fetch(u.H+"/admin/matches-per-month"),s=await t.json();if(!s.success)return;n(e.map(e=>{var t;return(null==(t=s.data.find(t=>t.month===e))?void 0:t.totalUsers)||0})),o(e.map(e=>{var t;return(null==(t=s.data.find(t=>t.month===e))?void 0:t.matches)||0}))}catch(e){console.error(e)}})()},[]);let c={chart:{backgroundColor:"transparent",height:420},legend:{enabled:!1},title:{text:""},xAxis:{categories:e,labels:{style:{fontSize:14,fontWeight:600,color:"#444"}}},yAxis:{min:0,max:35,tickInterval:5,labels:{formatter(){return this.value+" M"},style:{fontWeight:600,color:"#666"}},title:{text:""}},series:[{type:"column",name:"Total no. of Users",borderRadius:22,color:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#fadb4d"],[1,"#d2a103"]]},data:r},{type:"line",name:"No. Of Matches",color:"#e22c2c",marker:{enabled:!0,fillColor:"#fff",radius:6,lineWidth:2.5,lineColor:"#e22c2c"},lineWidth:4,data:d}],credits:{enabled:!1}},x=e=>({width:18,height:18,background:"#fff",border:"3px solid ".concat(e),borderRadius:6,boxSizing:"border-box",display:"inline-block"});return(0,a.jsx)("div",{className:"w-full p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white shadow-xl rounded-2xl p-6 relative",style:{border:"2px solid rgba(0,0,0,0.08)"},children:[(0,a.jsx)("h2",{style:{fontSize:26,fontWeight:700,color:"#222"},children:"Profile Overview"}),(0,a.jsxs)("div",{style:{position:"absolute",top:28,right:28,display:"flex",flexDirection:"column",gap:14,fontSize:16,fontWeight:600},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,a.jsx)("span",{style:x("#0c7c1b")}),"Completed"]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,a.jsx)("span",{style:x("#f6931d")}),"Low"]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,a.jsx)("span",{style:x("#e21d1d")}),"Incomplete"]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,a.jsx)("span",{style:x("#f6c927")}),"Moderate"]})]}),(0,a.jsx)("div",{style:{marginTop:40},children:(0,a.jsx)(g,{highcharts:i(),options:{chart:{type:"pie",backgroundColor:"transparent",height:340},title:{text:""},legend:{enabled:!1},plotOptions:{pie:{borderWidth:7,borderColor:"#fff",shadow:{color:"rgba(0,0,0,0.28)",offsetY:12,width:22},dataLabels:{enabled:!1},startAngle:-30}},series:[{type:"pie",data:t}],credits:{enabled:!1}}})})]}),(0,a.jsxs)("div",{className:"bg-white shadow-xl rounded-2xl p-6",style:{border:"2px solid rgba(0,0,0,0.08)"},children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsx)("h2",{style:{fontSize:20,fontWeight:700,color:"#222"},children:"Matches Per Month"}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:15,fontSize:16,fontWeight:600},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,a.jsx)("span",{style:x("#d2a103")}),"Total no. of Users"]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,a.jsx)("span",{style:x("#e22c2c")}),"No. Of Matches"]})]})]}),(0,a.jsx)("div",{style:{marginTop:30},children:(0,a.jsx)(g,{highcharts:i(),options:c})})]})]})})}var y=s(8e3),j=s(7965),w=s(4758),v=s(2333),N=s(4354),k=s(8072),S=s(6766);function F(){let[e,t]=(0,l.useState)([]),[s,r]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(u.H,"/admin/reports-this-week")),s=await e.json();s.success&&t(s.data)}finally{r(!1)}})()},[]),(0,a.jsx)("div",{className:"p-4 sm:p-6 max-w-6xl mx-auto",children:(0,a.jsxs)("div",{className:"rounded-[24px] p-8",style:{background:"#FFFFFF",border:"1px solid #D6D6D6",boxShadow:"0px 6px 18px rgba(0,0,0,0.12)"},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-[26px] font-semibold text-gray-900",children:"Reports This Week"}),(0,a.jsxs)("div",{className:"flex items-center gap-7 text-[16px] font-medium text-gray-800",children:[(0,a.jsx)(C,{label:"Fake",color:"#FF7C7C"}),(0,a.jsx)(C,{label:"Inappropriate profile",color:"#FFC400"}),(0,a.jsx)(C,{label:"Spam",color:"#76D64C"}),(0,a.jsx)(C,{label:"Harassment",color:"#47D0FF"})]})]}),s?(0,a.jsx)("p",{className:"text-gray-600 text-lg",children:"Loading..."}):(0,a.jsx)("div",{className:"w-full h-[400px]",children:(0,a.jsx)(y.u,{width:"100%",height:"100%",children:(0,a.jsxs)(j.E,{data:e,margin:{top:10,right:20,left:0,bottom:25},barCategoryGap:32,children:[(0,a.jsx)(w.d,{stroke:"#D8D8D8",strokeWidth:1.2,vertical:!1}),(0,a.jsx)(v.W,{dataKey:"day",tick:{fill:"#4B4B4B",fontSize:16}}),(0,a.jsx)(N.h,{domain:[0,70],ticks:[0,10,20,30,40,50,60,70],tickFormatter:e=>"".concat(e," %"),tick:{fill:"#4B4B4B",fontSize:16}}),(0,a.jsx)(k.m,{formatter:e=>"".concat(e,"%"),contentStyle:{borderRadius:"12px",border:"1px solid #ccc",background:"#ffffff",fontSize:"14px",padding:"12px",boxShadow:"0 2px 14px rgba(0,0,0,0.15)"}}),(0,a.jsx)(S.y,{dataKey:"fake",stackId:"a",fill:"#FF7C7C",radius:[6,6,0,0]}),(0,a.jsx)(S.y,{dataKey:"inappropriate",stackId:"a",fill:"#FFC400"}),(0,a.jsx)(S.y,{dataKey:"spam",stackId:"a",fill:"#76D64C"}),(0,a.jsx)(S.y,{dataKey:"harassment",stackId:"a",fill:"#47D0FF"})]})})})]})})}function C(e){let{label:t,color:s}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{style:{width:"16px",height:"16px",borderRadius:"6px",background:s,border:"2px solid ".concat(s)}}),t]})}let W=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{}),(0,a.jsx)(h,{}),(0,a.jsx)(b,{}),(0,a.jsx)(F,{})]})}},e=>{e.O(0,[853,220,725,452,636,593,792],()=>e(e.s=483)),_N_E=e.O()}]);