(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[868],{1639:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var r=t(37876),a=t(14232),l=t(48230),n=t.n(l),d=t(54587),i=t.n(d),c=t(93791),o=t(11713);let x=(0,o.A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),m=(0,o.A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var p=t(79516);let u=(0,o.A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var h=t(20151);let g=["bg-gradient-to-br from-blue-400 to-purple-500","bg-gradient-to-br from-green-400 to-blue-500","bg-gradient-to-br from-purple-400 to-pink-500","bg-gradient-to-br from-yellow-400 to-orange-500","bg-gradient-to-br from-pink-400 to-red-500","bg-gradient-to-br from-indigo-400 to-purple-500"],j=e=>{let{name:s="",userId:t,gender:a,image:l}=e,n=null==s?void 0:s.split(" ").map(e=>e[0]).join("").toUpperCase(),d=(e=>g[(null==e?void 0:e.charCodeAt(0))%g.length||0])(s);return(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[l?(0,r.jsx)("img",{src:l,alt:s,className:"w-8 h-8 rounded-full object-cover border"}):(0,r.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-medium text-xs ".concat(d),children:n}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:s}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",t," / ",a]})]})]})},b=()=>{let[e,s]=(0,a.useState)([]),[t,l]=(0,a.useState)("Status"),[d,o]=(0,a.useState)("Gender"),[g,b]=(0,a.useState)(0),[f,y]=(0,a.useState)(0),[v,N]=(0,a.useState)(0),[w,k]=(0,a.useState)(0),[C,S]=(0,a.useState)(""),[A,_]=(0,a.useState)(""),[M,L]=(0,a.useState)("asc"),[E,G]=(0,a.useState)(1),[q,F]=(0,a.useState)(!1),[I,P]=(0,a.useState)("");(0,a.useEffect)(()=>{(async()=>{F(!0),P("");try{var e,t,r,a;let l=await fetch("".concat(h.H,"/admin/user-verify")),n=await l.json();s(null==n?void 0:n.data);let d=null==n||null==(e=n.data)?void 0:e.length;N(d);let i=null==n||null==(t=n.data)?void 0:t.filter(e=>"pending"===e.adminApprovel).length;b(i);let c=null==n||null==(r=n.data)?void 0:r.filter(e=>"approved"===e.adminApprovel).length;y(c);let o=null==n||null==(a=n.data)?void 0:a.filter(e=>"reject"===e.adminApprovel).length;k(o)}catch(e){P("Failed to fetch users"),console.error(e)}finally{F(!1)}})()},[]);let T=(0,a.useMemo)(()=>{let s=Array.isArray(e)?e:[];return null==s?void 0:s.filter(e=>{let{_id:s,fullName:r,firstName:a,lastName:l,adminApprovel:n,gender:i}=e,c=!C||s.toLowerCase().includes(C.toLowerCase())||(null==a?void 0:a.toLowerCase().includes(C.toLowerCase()))||(null==l?void 0:l.toLowerCase().includes(C.toLowerCase())),o="Status"===t||n===t,x="Gender"===d||i===d;return c&&o&&x}).sort((e,s)=>{var t,r,a,l;if(!A)return 0;let n=(null==(r=e[A])||null==(t=r.toLowerCase)?void 0:t.call(r))||"",d=(null==(l=s[A])||null==(a=l.toLowerCase)?void 0:a.call(l))||"";return"asc"===M?n.localeCompare(d):d.localeCompare(n)})},[e,C,t,d,A,M]),D=Math.ceil(T.length/10),R=T.slice((E-1)*10,10*E);return(0,r.jsxs)("div",{className:"w-full min-h-screen   bg-gray-50 mt-0  sm:py-6",children:[(0,r.jsxs)("div",{className:"flex shadow  justify-between items-center p-2 pt-0 mt-0 mb-2 bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-transparent",children:(0,r.jsx)("h1",{className:"text-2xl font-bold p-5 text-black",children:"Verification Request"})}),(0,r.jsx)("div",{className:"flex gap-5 justify-center items-center",children:(0,r.jsx)("div",{children:(0,r.jsx)(i(),{className:"cursor-pointer",src:"/notification.png",width:35,height:35,alt:"Notification"})})})]}),(0,r.jsxs)("div",{className:"p-3 p-5 flex justify-center gap-[70px] items-center",children:[(0,r.jsxs)("div",{className:"border-2 border-gray-400 text-center shadow w-[200px] rounded-2xl p-5",children:[(0,r.jsxs)("h1",{className:"font-bold",children:["Total Request this ",(0,r.jsx)("br",{}),"Week"]}),(0,r.jsx)("br",{}),(0,r.jsx)("b",{children:v})]}),(0,r.jsxs)("div",{className:"border-2 border-gray-400 text-center shadow w-[200px] rounded-2xl p-5",children:[(0,r.jsxs)("h1",{className:"font-bold",children:["Pending ",(0,r.jsx)("br",{}),"Verification"]}),(0,r.jsx)("br",{}),(0,r.jsx)("b",{children:g})]}),(0,r.jsxs)("div",{className:"border-2 border-gray-400 text-center shadow w-[200px] rounded-2xl p-5",children:[(0,r.jsxs)("h1",{className:"font-bold",children:["Approved This ",(0,r.jsx)("br",{}),"Week"]}),(0,r.jsx)("br",{}),(0,r.jsx)("b",{children:f})]}),(0,r.jsxs)("div",{className:"border-2 border-gray-400 text-center shadow w-[200px] rounded-2xl p-5",children:[(0,r.jsxs)("h1",{className:"font-bold",children:["Rejected Due to",(0,r.jsx)("br",{}),"MisMatch"]}),(0,r.jsx)("br",{}),(0,r.jsx)("b",{children:w})]})]}),(0,r.jsxs)("div",{className:"max-w-7xl p-5 border rounded-2xl ml-3 mr-3 border-gray-300 mx-auto space-y-6 ",children:[(0,r.jsxs)("div",{className:"flex flex-wrap border p-1 rounded border-gray-300 gap-4 justify-between items-center",children:[(0,r.jsxs)("div",{className:"relative  flex-1 sm:flex-none",children:[(0,r.jsx)(p.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,r.jsx)("input",{type:"text",placeholder:"Search by Name or ID",className:"w-full sm:w-64 border border-gray-300 rounded-md pl-10 pr-4 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-gray-400",value:C,onChange:e=>S(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex gap-3 flex-wrap",children:[(0,r.jsxs)("select",{value:t,onChange:e=>l(e.target.value),className:"border border-gray-300 bg-gray-200 cursor-pointer hover:bg-gray-300 rounded-md px-3 py-2 text-sm",children:[(0,r.jsx)("option",{value:"Status",children:"Status"}),(0,r.jsx)("option",{value:"approved",children:"approved"}),(0,r.jsx)("option",{value:"pending",children:"pending"}),(0,r.jsx)("option",{value:"reject",children:"rejected"})]}),(0,r.jsxs)("select",{value:d,onChange:e=>o(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 bg-gray-200 cursor-pointer hover:bg-gray-300 text-sm",children:[(0,r.jsx)("option",{value:"Gender",children:"Gender"}),(0,r.jsx)("option",{value:"Male",children:"Male"}),(0,r.jsx)("option",{value:"Female",children:"Female"})]})]})]}),(0,r.jsx)("div",{className:"overflow-x-auto border rounded-lg border-gray-300  bg-white shadow-sm",children:q?(0,r.jsxs)("div",{className:"flex justify-center items-center py-10",children:[(0,r.jsx)(u,{className:"animate-spin h-6 w-6 text-gray-600"}),(0,r.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Loading users..."})]}):I?(0,r.jsx)("div",{className:"p-6 text-center text-red-600",children:I}):0===R.length?(0,r.jsx)("div",{className:"p-6 text-center text-gray-500",children:"No users found."}):(0,r.jsxs)("table",{className:"w-full min-w-[800px] text-sm",children:[(0,r.jsx)("thead",{className:"bg-gray-100",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left px-4 py-3",children:(0,r.jsxs)("button",{onClick:()=>(e=>{L(A===e&&"asc"===M?"desc":"asc"),_(e)})("fullName"),className:"flex items-center gap-1",children:["Name ","fullName"!==A?(0,r.jsx)(x,{className:"w-4 h-4 text-gray-400"}):"asc"===M?(0,r.jsx)(m,{className:"w-4 h-4 text-gray-600"}):(0,r.jsx)(x,{className:"w-4 h-4 text-gray-600"})]})}),(0,r.jsx)("th",{className:"text-left px-4 py-3",children:"Email"}),(0,r.jsx)("th",{className:"text-left px-4 py-3",children:"Mobile"}),(0,r.jsx)("th",{className:"text-left px-4 py-3",children:"Gender"}),(0,r.jsx)("th",{className:"text-left px-4 py-3",children:"Status"}),(0,r.jsx)("th",{className:"text-left px-4 py-3",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200",children:R.map(e=>{var s;return(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)(j,{name:"".concat(e.firstName||""," ").concat(e.lastName||"").trim(),userId:null==(s=e._id)?void 0:s.slice(-6),gender:e.gender,image:e.profileImage})}),(0,r.jsx)("td",{className:"px-4 py-3",children:e.email||"-"}),(0,r.jsx)("td",{className:"px-4 py-3",children:e.mobile}),(0,r.jsx)("td",{className:"px-4 py-3",children:e.gender||"Not Mention"}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-2 h-2 rounded-full ".concat({approved:"bg-green-500",pending:"bg-orange-500",reject:"bg-red-500"}[e.adminApprovel]||"bg-gray-500")}),(0,r.jsx)("span",{className:"".concat({approved:"text-green-600",pending:"text-orange-500",reject:"text-red-600"}[e.adminApprovel]||"text-gray-600"," font-medium"),children:e.adminApprovel})]})}),(0,r.jsx)("td",{className:"px-4 py-2 flex gap-2 flex-wrap",children:(0,r.jsxs)(n(),{href:"/manageusers/".concat(e._id),className:" flex items-center gap-1 text-black text-sm px-3 py-1 rounded-md transition",children:[(0,r.jsx)(c.lg_,{})," View"]})})]},e._id)})})]})}),D>1&&(0,r.jsxs)("div",{className:"flex justify-center pt-4 gap-2",children:[(0,r.jsx)("button",{onClick:()=>G(e=>Math.max(1,e-1)),disabled:1===E,className:"px-3 py-1 border rounded text-sm disabled:opacity-50",children:"Prev"}),[...Array(D).keys()].map(e=>(0,r.jsx)("button",{onClick:()=>G(e+1),className:"px-3 py-1 border rounded text-sm ".concat(E===e+1?"bg-blue-100 text-blue-800 font-semibold":""),children:e+1},e)),(0,r.jsx)("button",{onClick:()=>G(e=>Math.min(D,e+1)),disabled:E===D,className:"px-3 py-1 border rounded text-sm disabled:opacity-50",children:"Next"})]})]})]})},f=()=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(b,{})})},20151:(e,s,t)=>{"use strict";t.d(s,{H:()=>r});let r="https://matrimonial-backend-7ahc.onrender.com"},22567:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/verificationrequest",function(){return t(1639)}])},79516:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(11713).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])}},e=>{e.O(0,[236,636,593,792],()=>e(e.s=22567)),_N_E=e.O()}]);