(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[432],{5839:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>E});var t=s(37876),l=s(54587),r=s.n(l),d=s(80252),n=s(26320),c=s(84758),i=s(22333),o=s(69064),h=s(84697),x=s(97566),m=s(50704),f=s(14232),u=s(20151);function j(){let[e,a]=(0,f.useState)([]),[s,l]=(0,f.useState)([]);return(0,f.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(u.H,"/admin/user-signup-trends")),s=await e.json();if(s.success){let e=s.data.map(e=>({...e,returningUsers:Math.floor(.5*e.newUsers)}));a(e)}}catch(e){console.error("Error loading trends:",e)}})()},[]),(0,f.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(u.H,"/admin/search-to-match")),a=await e.json();a.success&&l(a.data)}catch(e){console.error("Error loading funnel data:",e)}})()},[]),(0,t.jsxs)("div",{className:"flex flex-col mt-[70px] md:flex-row md:flex-wrap gap-6 p-4 sm:p-6 max-w-7xl mx-auto w-full",children:[(0,t.jsxs)("header",{className:"flex justify-between top-0 fixed bg-gray-50 z-50 w-[1274px] shadow-xl items-center p-4 ml-[-23px]",children:[(0,t.jsx)("div",{children:(0,t.jsx)("h1",{className:"font-bold  text-black",children:"Analytics"})}),(0,t.jsx)("div",{children:(0,t.jsx)(r(),{src:"/notification.png",width:36,height:36,alt:"notification"})})]}),(0,t.jsxs)("div",{className:"bg-white  rounded-xl shadow-md border border-gray-300 p-4 w-full md:w-[48%] min-w-0",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Search to Match Funnel"}),(0,t.jsx)("div",{className:"space-y-5",children:s.map((e,a)=>{var l;let r=(null==(l=s[0])?void 0:l.value)||1,d=(e.value/r*100).toFixed(1);return(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"w-full mr-4",children:[(0,t.jsx)("div",{className:"text-sm mb-1",children:e.stage}),(0,t.jsx)("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,t.jsx)("div",{className:"h-4 bg-blue-600 rounded-full transition-all duration-300",style:{width:"".concat(d,"%")}})})]}),(0,t.jsx)("div",{className:"min-w-[80px] text-sm font-medium text-gray-700",children:e.value.toLocaleString()})]},a)})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-300 p-4 w-full md:w-[48%] min-w-0",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"User Signup Trends"}),(0,t.jsx)("div",{className:"w-full h-[240px] sm:h-[240px] md:h-[280px] lg:h-[320px]",children:(0,t.jsx)(d.u,{width:"100%",height:"100%",children:(0,t.jsxs)(n.b,{data:e,children:[(0,t.jsx)(c.d,{strokeDasharray:"3 3"}),(0,t.jsx)(i.W,{dataKey:"date"}),(0,t.jsx)(o.h,{}),(0,t.jsx)(h.m,{}),(0,t.jsx)(x.s,{}),(0,t.jsx)(m.N,{type:"monotone",dataKey:"newUsers",stroke:"#facc15",strokeWidth:2.5,name:"New Users",activeDot:{r:6},dot:{r:4}}),(0,t.jsx)(m.N,{type:"monotone",dataKey:"returningUsers",stroke:"#22c55e",strokeWidth:2.5,name:"Returning Users",activeDot:{r:6},dot:{r:4}})]})})})]})]})}var w=s(28220),p=s(19751),g=s(10747),y=s(87965),b=s(69291);let v=["#22c55e","#facc15","#ef4444","#fb923c"];function N(){let[e,a]=(0,f.useState)([]),[s,l]=(0,f.useState)([]),[r,n]=(0,f.useState)(!0);return(0,f.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(u.H,"/admin/overview")),s=await fetch("".concat(u.H,"/admin/matches-per-month")),t=await e.json(),r=await s.json();t.success&&a(t.data),r.success&&l(r.data),n(!1)}catch(e){console.error("Error fetching stats:",e),n(!1)}})()},[]),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row flex-wrap gap-6 p-4 sm:p-6 max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-4 w-full lg:w-[40%]",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Profile Overview"}),(0,t.jsx)("div",{className:"w-full h-[250px]",children:(0,t.jsx)(d.u,{width:"100%",height:"100%",children:(0,t.jsx)(w.r,{children:(0,t.jsx)(p.F,{data:e,cx:"50%",cy:"50%",innerRadius:30,outerRadius:70,paddingAngle:5,dataKey:"value",label:e=>{let{name:a,percent:s}=e;return"".concat(a," ").concat((100*s).toFixed(0),"%")},children:e.map((e,a)=>(0,t.jsx)(g.f,{fill:v[a%v.length]},"cell-".concat(a)))})})})}),(0,t.jsx)("div",{className:"flex flex-wrap gap-4 text-sm mt-4",children:e.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:v[a]}}),(0,t.jsx)("span",{className:"text-gray-600",children:e.name})]},a))})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-4 w-full lg:w-[55%]",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Matches Per Month"}),(0,t.jsx)("div",{className:"w-full h-[300px]",children:(0,t.jsx)(d.u,{width:"100%",height:"100%",children:(0,t.jsxs)(y.E,{data:s,children:[(0,t.jsx)(c.d,{strokeDasharray:"3 3"}),(0,t.jsx)(i.W,{dataKey:"month"}),(0,t.jsx)(o.h,{domain:[0,40],unit:"M"}),(0,t.jsx)(h.m,{}),(0,t.jsx)(x.s,{}),(0,t.jsx)(b.y,{dataKey:"totalUsers",fill:"#facc15",name:"Total no. of Users",radius:[4,4,0,0]}),(0,t.jsx)(m.N,{type:"monotone",dataKey:"matches",stroke:"#ef4444",strokeWidth:2.5,dot:{r:5},activeDot:{r:7},name:"No. Of Matches"})]})})})]})]})}function k(){let[e,a]=(0,f.useState)([]),[s,l]=(0,f.useState)(!0);return(0,f.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(u.H,"/admin/reports-this-week")),s=await e.json();s.success&&a(s.data)}catch(e){console.error(e)}finally{l(!1)}})()},[]),(0,t.jsx)("div",{className:"p-4 sm:p-6 max-w-5xl mx-auto",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-300 p-4 w-full",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Reports This Week"}),s?(0,t.jsx)("p",{children:"Loading..."}):(0,t.jsx)("div",{className:"w-full h-[300px]",children:(0,t.jsx)(d.u,{width:"100%",height:"100%",children:(0,t.jsxs)(y.E,{data:e,margin:{top:10,right:20,left:0,bottom:10},barCategoryGap:35,barGap:5,children:[(0,t.jsx)(c.d,{strokeDasharray:"3 3"}),(0,t.jsx)(i.W,{dataKey:"day"}),(0,t.jsx)(o.h,{}),(0,t.jsx)(h.m,{}),(0,t.jsx)(x.s,{}),(0,t.jsx)(b.y,{dataKey:"fake",stackId:"a",fill:"#ff7c7c",name:"Fake"}),(0,t.jsx)(b.y,{dataKey:"inappropriate",stackId:"a",fill:"#ffcb00",name:"Inappropriate"}),(0,t.jsx)(b.y,{dataKey:"harassment",stackId:"a",fill:"#47d0ff",name:"Harassment"}),(0,t.jsx)(b.y,{dataKey:"spam",stackId:"a",fill:"#7ad64d",name:"Spam"})]})})})]})})}let E=()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j,{}),(0,t.jsx)(N,{}),(0,t.jsx)(k,{})]})},20151:(e,a,s)=>{"use strict";s.d(a,{H:()=>t});let t="https://matrimonial-backend-7ahc.onrender.com"},60483:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/analytics",function(){return s(5839)}])}},e=>{e.O(0,[220,630,935,636,593,792],()=>e(e.s=60483)),_N_E=e.O()}]);