(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[791],{20151:(e,a,t)=>{"use strict";t.d(a,{H:()=>s});let s="https://matrimonial-backend-7ahc.onrender.com"},26508:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>u});var s=t(37876),n=t(89099),r=t(14232),i=t(54587),o=t.n(i),l=t(48230),c=t.n(l),d=t(20151);let m=e=>{let{title:a,data:t,twoColumn:n=!1}=e;return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[a&&(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:a}),(0,s.jsxs)("table",{className:"w-full text-sm text-gray-700 border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"text-left bg-gray-100",children:[(0,s.jsx)("th",{className:"p-2 font-medium",children:"Data"}),(0,s.jsx)("th",{className:"p-2 font-medium",children:"Info"}),n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("th",{className:"p-2 font-medium",children:"Data"}),(0,s.jsx)("th",{className:"p-2 font-medium",children:"Info"})]})]})}),(0,s.jsx)("tbody",{children:n?t.reduce((e,a,t,s)=>(t%2==0&&e.push([a,s[t+1]]),e),[]).map((e,a)=>{var t,n,r,i;return(0,s.jsxs)("tr",{className:"border-t",children:[(0,s.jsx)("td",{className:"p-2",children:null==(t=e[0])?void 0:t[0]}),(0,s.jsx)("td",{className:"p-2",children:(null==(n=e[0])?void 0:n[1])||"N/A"}),(0,s.jsx)("td",{className:"p-2",children:(null==(r=e[1])?void 0:r[0])||""}),(0,s.jsx)("td",{className:"p-2",children:(null==(i=e[1])?void 0:i[1])||"N/A"})]},a)}):t.map((e,a)=>{let[t,n]=e;return(0,s.jsxs)("tr",{className:"border-t",children:[(0,s.jsx)("td",{className:"p-2",children:t}),(0,s.jsx)("td",{className:"p-2",children:n||"N/A"})]},a)})})]})]})},h=e=>{var a,t,n,r,i,l,c;let{user:h}=e,u=async(e,a)=>{try{let t=await fetch("".concat(d.H,"/admin/user-manage/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminApprovel:a})}),s=await t.json();s.success?(alert("User has been ".concat(a,".")),window.location.reload()):(console.error("Failed to ".concat(a," user:"),s.message),alert("Failed to ".concat(a,": ").concat(s.message)))}catch(e){console.error("".concat(a," error:"),e),alert("".concat(a," error: ").concat(e.message))}};return(0,s.jsxs)("div",{className:"max-w-7xl mx-auto p-6 bg-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-6 bg-white p-6 rounded-lg shadow-md mb-6",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center relative",children:[(0,s.jsx)("img",{src:h.profileImage||"/default-avatar.png",alt:h.fullName,className:"w-24 h-24 rounded-full object-cover border"}),(0,s.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium\n    ".concat("approved"===h.adminApprovel?"bg-red-700 text-white":"reject"===h.adminApprovel?"bg-red-700  text-white font-bold":"bg-red-600 text-white","\n  "),children:h.adminApprovel})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:"".concat(h.firstName||""," ").concat(h.lastName||"").trim()}),(0,s.jsxs)("p",{className:"text-gray-500",children:["#",null==(a=h._id)?void 0:a.slice(-6)," / ",h.gender]}),(0,s.jsxs)("p",{className:"text-gray-600 flex gap-2",children:[(0,s.jsx)(o(),{src:"/location.png",width:17,height:25,alt:"Location"})," ",h.city]})]})]}),(0,s.jsx)(m,{title:"Personal Information",data:[["Full Name",h.fullName],["DOB",(e=>e?new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"}):"N/A")(h.dateOfBirth)],["Gender",h.gender],["Marital Status",h.maritalStatus],["Religion",h.religion],["Education",h.highestEducation],["Profession",h.occupation],["Income Range",h.annualIncome],["Height",h.height],["Mother Tongue",h.motherTongue]],twoColumn:!0}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mt-6",children:[(0,s.jsx)(m,{title:"Family Background",data:[["Father Occ",h.fatherOccupation],["Mother Occ",h.motherOccupation],["Family Inc",h.familyIncome],["Brother",h.brother||"0"],["Family Type",h.familyType]]}),(0,s.jsx)(m,{title:"Career, Education",data:[["Post Grad",h.postGraduation],["Under Grad",h.underGraduation],["Employee In",h.employedIn],["Profession",h.occupation],["Company",h.company]]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mt-6",children:[(0,s.jsx)(m,{title:"Lifestyle & Hobbies",data:[["Dietary Habit",h.diet],["Drinking Habit",h.drinking],["Assets","".concat(h.ownCar?"own a car":"").concat(h.ownCar&&h.ownHouse?", ":"").concat(h.ownHouse?"house":"")||"N/A"],["Fav Vacation",(null==(t=h.vacationDestination)?void 0:t.join(", "))||"N/A"],["Fav Movie",(null==(n=h.movies)?void 0:n.join(", "))||"N/A"]]}),(0,s.jsx)(m,{title:"",data:[["Hobbies",(null==(r=h.hobbies)?void 0:r.join(", "))||"N/A"],["Sports",(null==(i=h.sports)?void 0:i.join(", "))||"N/A"],["Interest",(null==(l=h.interests)?void 0:l.join(", "))||"N/A"],["Fav Cuisine",(null==(c=h.cuisine)?void 0:c.join(", "))||"N/A"],["Fav Color",h.favoriteColor||"N/A"]]})]}),(0,s.jsxs)("div",{className:"mt-8 flex justify-end space-x-4",children:[(0,s.jsx)("button",{onClick:()=>u(h._id,"reject"),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",disabled:"reject"===h.adminApprovel,children:"Reject"}),(0,s.jsx)("button",{onClick:()=>u(h._id,"approved"),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",disabled:"approved"===h.adminApprovel,children:"Approve"})]})]})};function u(){let e=(0,n.useRouter)(),{id:a}=e.query,[t,i]=(0,r.useState)(null),[o,l]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{a&&fetch("".concat(d.H,"/admin/user/").concat(a)).then(e=>{if(!e.ok)throw Error("User not found");return e.json()}).then(e=>i(e)).catch(()=>{l(!0),setTimeout(()=>e.push("/manageusers"),2e3)})},[a]),o)?(0,s.jsx)("div",{children:"User not found, redirecting..."}):t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c(),{href:"/manageusers",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)("button",{className:"bg-gray-50 hover:bg-gray-100 rounded-md p-2",children:(0,s.jsx)("span",{className:"text-2xl cursor-pointer",children:"â†"})}),(0,s.jsx)("span",{children:"Back to Users"})]})}),(0,s.jsx)(h,{user:t})]}):(0,s.jsx)("div",{children:"Loading..."})}},35784:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/manageusers/[id]",function(){return t(26508)}])}},e=>{e.O(0,[636,593,792],()=>e(e.s=35784)),_N_E=e.O()}]);