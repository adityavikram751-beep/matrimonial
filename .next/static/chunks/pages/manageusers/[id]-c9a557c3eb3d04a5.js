(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[791],{20151:(e,t,a)=>{"use strict";a.d(t,{H:()=>s});let s="https://matrimonial-backend-7ahc.onrender.com"},26508:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(37876),n=a(89099),r=a(14232),i=a(54587),l=a.n(i),o=a(48230),c=a.n(o),d=a(20151);let m=e=>{let{title:t,data:a,twoColumn:n=!1}=e;return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[t&&(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:t}),(0,s.jsxs)("table",{className:"w-full text-sm text-gray-700 border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"text-left bg-gray-100",children:[(0,s.jsx)("th",{className:"p-2 font-medium",children:"Data"}),(0,s.jsx)("th",{className:"p-2 font-medium",children:"Info"}),n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("th",{className:"p-2 font-medium",children:"Data"}),(0,s.jsx)("th",{className:"p-2 font-medium",children:"Info"})]})]})}),(0,s.jsx)("tbody",{children:n?a.reduce((e,t,a,s)=>(a%2==0&&e.push([t,s[a+1]]),e),[]).map((e,t)=>{var a,n,r,i;return(0,s.jsxs)("tr",{className:"border-t",children:[(0,s.jsx)("td",{className:"p-2",children:null==(a=e[0])?void 0:a[0]}),(0,s.jsx)("td",{className:"p-2",children:(null==(n=e[0])?void 0:n[1])||"N/A"}),(0,s.jsx)("td",{className:"p-2",children:(null==(r=e[1])?void 0:r[0])||""}),(0,s.jsx)("td",{className:"p-2",children:(null==(i=e[1])?void 0:i[1])||"N/A"})]},t)}):a.map((e,t)=>{let[a,n]=e;return(0,s.jsxs)("tr",{className:"border-t",children:[(0,s.jsx)("td",{className:"p-2",children:a}),(0,s.jsx)("td",{className:"p-2",children:n||"N/A"})]},t)})})]})]})},h=e=>{var t,a,n,r,i,o,c;let{user:h}=e,u=async(e,t)=>{try{let a=await fetch("".concat(d.H,"/admin/user-manage/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminApprovel:t})}),s=await a.json();s.success?(alert("User has been ".concat(t,".")),window.location.reload()):(console.error("Failed to ".concat(t," user:"),s.message),alert("Failed to ".concat(t,": ").concat(s.message)))}catch(e){console.error("".concat(t," error:"),e),alert("".concat(t," error: ").concat(e.message))}};return(0,s.jsxs)("div",{className:"max-w-7xl mx-auto p-6 bg-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-6 bg-white p-6 rounded-lg shadow-md mb-6",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center relative",children:[(0,s.jsx)("img",{src:h.profileImage||"/default-avatar.png",alt:h.fullName,className:"w-24 h-24 rounded-full object-cover border"}),(0,s.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium\n    ".concat("approved"===h.adminApprovel?"bg-red-700 text-white":"reject"===h.adminApprovel?"bg-red-700  text-white font-bold":"bg-red-600 text-white","\n  "),children:h.adminApprovel})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:"".concat(h.firstName||""," ").concat(h.lastName||"").trim()}),(0,s.jsxs)("p",{className:"text-gray-500",children:["#",null==(t=h._id)?void 0:t.slice(-6)," / ",h.gender]}),(0,s.jsxs)("p",{className:"text-gray-600 flex gap-2",children:[(0,s.jsx)(l(),{src:"/location.png",width:17,height:25,alt:"Location"})," ",h.city]})]})]}),(0,s.jsx)(m,{title:"Personal Information",data:[["Full Name",h.fullName],["DOB",(e=>e?new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"}):"N/A")(h.dateOfBirth)],["Gender",h.gender],["Marital Status",h.maritalStatus],["Religion",h.religion],["Education",h.highestEducation],["Profession",h.occupation],["Income Range",h.annualIncome],["Height",h.height],["Mother Tongue",h.motherTongue]],twoColumn:!0}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mt-6",children:[(0,s.jsx)(m,{title:"Family Background",data:[["Father Occ",h.fatherOccupation],["Mother Occ",h.motherOccupation],["Family Inc",h.familyIncome],["Brother",h.brother||"0"],["Family Type",h.familyType]]}),(0,s.jsx)(m,{title:"Career, Education",data:[["Post Grad",h.postGraduation],["Under Grad",h.underGraduation],["Employee In",h.employedIn],["Profession",h.occupation],["Company",h.company]]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mt-6",children:[(0,s.jsx)(m,{title:"Lifestyle & Hobbies",data:[["Dietary Habit",h.diet],["Drinking Habit",h.drinking],["Assets","".concat(h.ownCar?"own a car":"").concat(h.ownCar&&h.ownHouse?", ":"").concat(h.ownHouse?"house":"")||"N/A"],["Fav Vacation",(null==(a=h.vacationDestination)?void 0:a.join(", "))||"N/A"],["Fav Movie",(null==(n=h.movies)?void 0:n.join(", "))||"N/A"]]}),(0,s.jsx)(m,{title:"",data:[["Hobbies",(null==(r=h.hobbies)?void 0:r.join(", "))||"N/A"],["Sports",(null==(i=h.sports)?void 0:i.join(", "))||"N/A"],["Interest",(null==(o=h.interests)?void 0:o.join(", "))||"N/A"],["Fav Cuisine",(null==(c=h.cuisine)?void 0:c.join(", "))||"N/A"],["Fav Color",h.favoriteColor||"N/A"]]})]}),(0,s.jsxs)("div",{className:"mt-8 flex justify-end space-x-4",children:[(0,s.jsx)("button",{onClick:()=>u(h._id,"reject"),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",disabled:"reject"===h.adminApprovel,children:"Reject"}),(0,s.jsx)("button",{onClick:()=>u(h._id,"approved"),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",disabled:"approved"===h.adminApprovel,children:"Approve"})]})]})};function u(){let e=(0,n.useRouter)(),{id:t}=e.query,[a,i]=(0,r.useState)(null),[o,m]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{t&&fetch("".concat(d.H,"/admin/user/").concat(t)).then(e=>{if(!e.ok)throw Error("User not found");return e.json()}).then(e=>i(e)).catch(t=>{console.error(t.message),m(!0),setTimeout(()=>e.push("/manageusers"),3e3)})},[t]),o)?(0,s.jsx)("div",{className:"p-8 text-center text-gray-700 text-2xl",children:"User not found. Redirecting..."}):a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c(),{href:"/manageusers",className:"text-blue-600 hover:underline text-sm",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)("button",{className:"items-center bg-gray-50 hover:bg-gray-100 rounded-md p-2",children:(0,s.jsx)("span",{className:"text-2xl cursor-pointer",children:"â†"})}),(0,s.jsx)("span",{children:"Back to Users"})]})}),(0,s.jsx)(h,{user:a})]}):(0,s.jsx)("div",{className:"p-8 flex justify-center items-center text-center text-gray-700 text-2xl",children:(0,s.jsx)(l(),{src:"/loading2.gif",height:300,width:300,alt:"loading..."})})}},35784:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/manageusers/[id]",function(){return a(26508)}])}},e=>{e.O(0,[636,593,792],()=>e(e.s=35784)),_N_E=e.O()}]);