(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{151:(e,t,a)=>{"use strict";a.d(t,{H:()=>r});let r="https://matrimonial-backend-7ahc.onrender.com"},385:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/profileDetails",function(){return a(8374)}])},8374:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(7876),s=a(4232),l=a(9516),i=a(4587),n=a.n(i);let o=e=>{let{onSearch:t}=e,[a,i]=(0,s.useState)(""),o=()=>{t(a.toLowerCase())};return(0,r.jsx)("div",{className:"border-slate-700 w-full bg-[rgba(242,242,242,1)] p-2",children:(0,r.jsxs)("div",{className:"flex justify-between items-center fixed top-0 right-[14px] border-b-2 w-[1272px] bg-[rgba(242,242,242,1)] p-3 shadow z-50",children:[(0,r.jsx)("h1",{className:"text-xl text-black font-semibold",children:"Profile Details"}),(0,r.jsxs)("div",{className:"flex gap-5 items-center",children:[(0,r.jsxs)("div",{className:"flex items-center bg-white border border-gray-300 rounded-full px-4 py-2 w-[350px] shadow-sm",children:[(0,r.jsx)(l.A,{className:"text-gray-600 cursor-pointer",size:18,onClick:o}),(0,r.jsx)("input",{type:"text",placeholder:"Search...",className:"ml-2 w-full outline-none text-sm bg-transparent",value:a,onChange:e=>{i(e.target.value),t(e.target.value.toLowerCase())},onKeyDown:e=>{"Enter"===e.key&&o()}})]}),(0,r.jsx)(n(),{className:"cursor-pointer",src:"/notification.png",width:30,height:30,alt:"Notification"})]})]})})};var c=a(151),d=a(2990);let u=e=>{let{title:t,apiPath:a}=e,[l,i]=(0,s.useState)(""),[n,o]=(0,s.useState)(""),[u,p]=(0,s.useState)([]),[m,h]=(0,s.useState)([]),[x,g]=(0,s.useState)(null),[b,f]=(0,s.useState)(""),[j,y]=(0,s.useState)(""),[v,w]=(0,s.useState)(""),N="".concat(c.H,"/api/master/").concat(a);(0,s.useEffect)(()=>{C(),"city"===a&&S()},[]);let C=async()=>{try{let e=await fetch(N),t=await e.json();h(t)}catch(e){console.error("Error fetching options:",e)}},S=async()=>{try{let e=await fetch("".concat(c.H,"/api/master/state")),t=await e.json();p(t)}catch(e){console.error("Error fetching states:",e)}},E=async()=>{let e=l.trim();if(!e)return;if(m.some(t=>t.value.trim().toLowerCase()===e.toLowerCase()))return void w("This field has already been mentioned");let t="city"===a?{value:e,state:n}:{value:e};try{let e=await fetch(N,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await e.json();h(e=>[...e,a]),i(""),o(""),w("")}catch(e){console.error("Error adding option:",e)}},_=async e=>{try{await fetch("".concat(N,"/").concat(e),{method:"DELETE"}),h(t=>t.filter(t=>t._id!==e))}catch(e){console.error("Error deleting option:",e)}};return(0,r.jsxs)("div",{className:"border-1 border-black mt-[50px] p-3 rounded-xl shadow-sm bg-white w-full max-w-md mx-auto transition hover:shadow-md",children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-800 mb-4",children:t}),(0,r.jsxs)("div",{className:"flex flex-col gap-3 mb-3",children:["city"===a&&(0,r.jsxs)("select",{value:n,onChange:e=>o(e.target.value),className:"p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-rose-400",children:[(0,r.jsx)("option",{value:"",children:"Select State"}),u.map(e=>(0,r.jsx)("option",{value:e.value,children:e.value},e._id))]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),E()},className:"flex gap-3 flex-row ",children:[(0,r.jsx)("input",{type:"text",value:l,onChange:e=>{i(e.target.value),w("")},onKeyDown:e=>{"Enter"===e.key&&""!==l.trim()&&(e.preventDefault(),E())},placeholder:"Enter new value",className:"w-full p-3 border border-green-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-rose-400"}),v&&(0,r.jsx)("p",{className:"text-sm text-red-500 -mt-2",children:v}),(0,r.jsx)("button",{type:"button",onClick:E,className:"bg-red-800 border-1 border-black   text-white rounded-lg hover:bg-rose-700 px-4 py-2 transition font-medium",children:"Add"})]})]}),m.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:m.map(e=>(0,r.jsx)("div",{className:"",children:x===e._id?(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("input",{value:b,onChange:e=>f(e.target.value),className:"flex-1 p-2 border border-gray-300 rounded-md"}),"city"===a&&(0,r.jsx)("select",{value:j,onChange:e=>y(e.target.value),className:"p-2 border border-gray-300 rounded-md",children:u.map(e=>(0,r.jsx)("option",{value:e.value,children:e.value},e._id))})]}):(0,r.jsxs)("div",{className:"inline-flex bg-[rgba(255,208,208,1)] items-center gap-2 p-1 justify-center shadow rounded border-1 border-green-400 overflow-hidden text-ellipsis whitespace-nowrap",children:[(0,r.jsxs)("span",{className:"text-gray-800   font-medium",children:[e.value," ",e.state?"(".concat(e.state,")"):""]}),(0,r.jsx)("div",{className:" flex gap-2",children:(0,r.jsx)("button",{onClick:()=>_(e._id),className:"cursor-pointer text-black flex justify-center items-center bg-transparent ",children:(0,r.jsx)(d.j55,{className:"bg-transparent"})})})]})},e._id))})]})},p=[{label:"Profile For",api:"profile-for"},{label:"Religion",api:"religion"},{label:"Caste",api:"caste"},{label:"Communities",api:"communities"},{label:"Diet",api:"diet"},{label:"Color",api:"color"},{label:"Marital Status",api:"marital-status"},{label:"Mother Tongue",api:"mother-tongue"},{label:"Family Status",api:"family-status"},{label:"State",api:"state"},{label:"City",api:"city"},{label:"Education",api:"education"},{label:"Employed In",api:"employed-in"},{label:"Designation",api:"designation"}];function m(){let[e,t]=(0,s.useState)(""),a=p.filter(t=>t.label.toLowerCase().includes(e));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{onSearch:t}),(0,r.jsx)("div",{className:"min-h-screen bg-gray-100 p-8 mt-[10px]",children:(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.length>0?a.map((e,t)=>(0,r.jsx)(u,{title:e.label,apiPath:e.api},t)):(0,r.jsx)("p",{className:"text-center text-gray-500 col-span-3",children:"No matching results..."})})})]})}},9516:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1713).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])}},e=>{e.O(0,[756,636,593,792],()=>e(e.s=385)),_N_E=e.O()}]);